<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>KOLLEKTIEF | Urbanists & Landscape Architects</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:500,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="wwwroot/css/stylesheet.min.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#101010">
  <meta name="apple-mobile-web-app-title" content="KOLLEKTIEF">
  <meta name="application-name" content="KOLLEKTIEF">
  <meta name="msapplication-TileColor" content="#101010">
  <meta name="theme-color" content="#101010">
</head>
<body class="wrap" onResize="getLogoHeight()">
  <header class="header fullscreen gutter--m">
    <div class="header__logo">
      <h1 id="logo" class="label label--logo"></h1>
    </div>
    <button class="header__button" id="scroll" onClick="scrollToContent" aria-hidden>
      <span class="sr-text">Scroll to content</span>
      <span class="header__scroll-btn"></span>
    </button>
  </header>
  <main class="main">

    <!-- TODO -->
    <!-- Fix settimeout on safari -->
    <!-- Make scrollToContent button a with -->

    <section class="container container--m gutter--m text--center">
      <div class="text-block">
        <p class="label">
          KOLLEKTIEF is a collaboration between <a href="https://www.linkedin.com/in/gijsdehaan/" rel="noopener" target="_blank">Gijs de Haan</a>, <a href="https://www.linkedin.com/in/vincent-peters-4346a4128/" rel="noopener" target="_blank">Vincent Peters</a> and <a href="https://www.linkedin.com/in/corn%C3%A9-strootman-533aa2128/" rel="noopener" target="_blank">Corn&eacute; Strootman</a>.
        </p>
      </div>

      <div class="text-block">
        <p class="label">As urbanists and landscape architects, we research and design innovative spatial solutions.</p>
      </div>

      <div class="text-block">
        <p class="label">We have been selected as runner-ups in <a href="https://e15rotterdam.nl/winners-europan-15-announced/" rel="noopener" target="_blank">Europan15 x Productive Rotterdam</a> with our development strategy for Groot-IJsselmonde.</p>
      </div>

      <div class="text-block">
        <h2 class="label">Want to work with us?</h2>
        <p class="label"><a href="mailto:contact@kollektief.com" rel="noopener" target="_blank">contact@kollektief.com</a></p>
      </div>
    </section>


    <div class="fs-background">
      <video loop muted autoplay buffered playsinline class="video fs-background__video" id="video">
        <source src="wwwroot/film-s.mp4" type="video/mp4">
        Sorry, your browser doesn't support embedded videos.
      </video>
    </div>
  </main>


  <script src="wwwroot/js/smoothscroll.min.js">
    smoothscroll.polyfill();
  </script>
  <script>
    const html = document.documentElement;
    const main = document.querySelector('.main');
    const scroll = document.querySelector('#scroll');
    const logo = document.querySelector('#logo');
    const video = document.querySelector('#video');
    let logoHeight;
    let text = "KOLLEKTIEF";
    let i = 0;
    const speed = 200;

    function typeWriter() {
      if (i < text.length) {
        logo.innerHTML += text.charAt(i);
        i++;
        if (getBrowserName() == "Safari") { 
          setTimeout(function() {
            typeWriter()
          }, 0);
        } else {
          setTimeout(function() {
            typeWriter()
          }, speed);
        }
      }
    }

    function getLogoHeight() {
      return logoHeight = logo.clientHeight;
    }

    function scrollToContent() {
      let viewportHeight = window.innerHeight;
      window.scrollTo({
        top: viewportHeight - getLogoHeight(),
        left: 0,
        behavior: 'smooth',
      });
      setTimeout(function() {
        scroll.parentNode.removeChild(scroll);
      }, 1000);
    }

    scroll.addEventListener('click', scrollToContent);

    function getBrowserName() {
      var name = "Unknown";
      if (navigator.userAgent.indexOf("MSIE")!=-1){
        name = "MSIE";
      } else if(navigator.userAgent.indexOf("Firefox")!=-1){
        name = "Firefox";
      } else if(navigator.userAgent.indexOf("Opera")!=-1){
        name = "Opera";
      } else if(navigator.userAgent.indexOf("Chrome") != -1){
        name = "Chrome";
      } else if(navigator.userAgent.indexOf("Safari")!=-1){
        name = "Safari";
      } return name;   
    }

    document.addEventListener("DOMContentLoaded", function() {
      if(getBrowserName() == "Safari"){
        console.log("You are using Safari");
      } else {
        console.log("You are surfing on " + getBrowserName(name));
      }

      video.classList.add('video--visible');

      setTimeout(function() {
        typeWriter()
      }, 2000);

      if (getBrowserName() == "Safari") { 
        setTimeout(function() {
          html.classList.add('overflow--scroll');
          scroll.classList.add('header__scroll');
        }, 2000);
      } else {
        setTimeout(function() {
          html.classList.add('overflow--scroll');
          scroll.classList.add('header__scroll');
        }, 4000);
      }
    });
  </script>
</body>
</html>
